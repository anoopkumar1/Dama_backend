<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="/website/application/theme/css/style.css" />
    <script src="/website/application/jquery/form-validation.min.js"></script>
    <script src="/website/application/jquery/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Edit Profile</title>
</head>
<style>
    form button[type="submit"] {
        width: 600px;
        padding: 12px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        margin-bottom: 10px;
    }

    form button[type="submit"] a {
        color: #fff;
        text-decoration: none;
    }
</style>

<body>
    <%- include('../partials/header'); %>

        <div class="container">
            <div class="profile-container">
                <div class="profile-data">
                    <h2 class="signin-text">Fill in your personal details</h2>
                    <p class="sign-sub">
                        We need your personal information to set up your profile
                    </p>
                </div>
                <form onsubmit="return navigateToProfessionalScreen()" id="registrationForm" class="sign-form">
                    <div class="upload-pic">
                        <h2 class="profile-head">Profile Picture</h2>
                        <div class="avatar-upload">
                            <div class="avatar-edit">
                                <input type="file" id="imageUpload" accept=".png, .jpg, .jpeg" />
                                <label for="imageUpload"></label>
                            </div>
                            <div class="avatar-preview">
                                <div id="imagePreview" style="background-image: url('http://i.pravatar.cc/500?img=7')">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="first">First Name</label>
                        <input type="name" id="firstname" class="form-control" name="first" required />
                    </div>
                    <div class="form-group">
                        <label for="middle">Middle Name</label>
                        <input type="name" id="middlename" class="form-control" name="middle" required />
                    </div>
                    <div class="form-group">
                        <label for="last">Last Name</label>
                        <input type="name" id="lastname" class="form-control" name="last" required />
                    </div>
                    <div class="form-group">
                        <label for="nationality">Nationality</label>
                        <select id="nation" name="nationality" class="form-control" required>
                            <option value="">-- select one --</option>
                            <option value="afghan">Afghan</option>
                            <option value="albanian">Albanian</option>
                            <option value="algerian">Algerian</option>
                            <option value="american">American</option>
                            <option value="andorran">Andorran</option>
                            <option value="angolan">Angolan</option>
                            <option value="antiguans">Antiguans</option>
                            <option value="argentinean">Argentinean</option>
                            <option value="armenian">Armenian</option>
                            <option value="australian">Australian</option>
                            <option value="austrian">Austrian</option>
                            <option value="azerbaijani">Azerbaijani</option>
                            <option value="bahamian">Bahamian</option>
                            <option value="bahraini">Bahraini</option>
                            <option value="bangladeshi">Bangladeshi</option>
                            <option value="barbadian">Barbadian</option>
                            <option value="barbudans">Barbudans</option>
                            <option value="batswana">Batswana</option>
                            <option value="belarusian">Belarusian</option>
                            <option value="belgian">Belgian</option>
                            <option value="belizean">Belizean</option>
                            <option value="beninese">Beninese</option>
                            <option value="bhutanese">Bhutanese</option>
                            <option value="bolivian">Bolivian</option>
                            <option value="bosnian">Bosnian</option>
                            <option value="brazilian">Brazilian</option>
                            <option value="british">British</option>
                            <option value="bruneian">Bruneian</option>
                            <option value="bulgarian">Bulgarian</option>
                            <option value="burkinabe">Burkinabe</option>
                            <option value="burmese">Burmese</option>
                            <option value="burundian">Burundian</option>
                            <option value="cambodian">Cambodian</option>
                            <option value="cameroonian">Cameroonian</option>
                            <option value="canadian">Canadian</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="country">Country</label>
                        <select id="selectCountry" name="selectCountry" class="form-control" required>
                            <option value="">Choose Country</option>
                        </select>
                    </div>
                    <button type="submit">
                        <a href="javascript:void(0)"> Continue </a>
                    </button>
                </form>
            </div>
        </div>
        <script>
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        $("#imagePreview").css(
                            "background-image",
                            "url(" + e.target.result + ")"
                        );
                        $("#imagePreview").hide();
                        $("#imagePreview").fadeIn(650);
                    };
                    reader.readAsDataURL(input.files[0]);
                }
            }
            $("#imageUpload").change(function () {
                readURL(this);
            });
        </script>
        <script>
            var select = document.getElementById("selectCountry");

            var countries = new Array(
                "Afghanistan",
                "Albania",
                "Algeria",
                "Andorra",
                "Angola",
                "Antarctica",
                "Antigua and Barbuda",
                "Argentina",
                "Armenia",
                "Australia",
                "Austria",
                "Azerbaijan",
                "Bahamas",
                "Bahrain",
                "Bangladesh",
                "Barbados",
                "Belarus",
                "Belgium",
                "Belize",
                "Benin",
                "Bermuda",
                "Bhutan",
                "Bolivia",
                "Bosnia and Herzegovina",
                "Botswana",
                "Brazil",
                "Brunei",
                "Bulgaria",
                "Burkina Faso",
                "Burma",
                "Burundi",
                "Cambodia",
                "Cameroon",
                "Canada",
                "Cape Verde",
                "Central African Republic",
                "Chad",
                "Chile",
                "China",
                "Colombia",
                "Comoros",
                "Congo, Democratic Republic",
                "Congo, Republic of the",
                "Costa Rica",
                "Cote d'Ivoire",
                "Croatia",
                "Cuba",
                "Cyprus",
                "Czech Republic",
                "Denmark",
                "Djibouti",
                "Dominica",
                "Dominican Republic",
                "East Timor",
                "Ecuador",
                "Egypt",
                "El Salvador",
                "Equatorial Guinea",
                "Eritrea",
                "Estonia",
                "Ethiopia",
                "Fiji",
                "Finland",
                "France",
                "Gabon",
                "Gambia",
                "Georgia",
                "Germany",
                "Ghana",
                "Greece",
                "Greenland",
                "Grenada",
                "Guatemala",
                "Guinea",
                "Guinea-Bissau",
                "Guyana",
                "Haiti",
                "Honduras",
                "Hong Kong",
                "Hungary",
                "Iceland",
                "India",
                "Indonesia",
                "Iran",
                "Iraq",
                "Ireland",
                "Israel",
                "Italy",
                "Jamaica",
                "Japan",
                "Jordan",
                "Kazakhstan",
                "Kenya",
                "Kiribati",
                "Korea, North",
                "Korea, South",
                "Kuwait",
                "Kyrgyzstan",
                "Laos",
                "Latvia",
                "Lebanon",
                "Lesotho",
                "Liberia",
                "Libya",
                "Liechtenstein",
                "Lithuania",
                "Luxembourg",
                "Macedonia",
                "Madagascar",
                "Malawi",
                "Malaysia",
                "Maldives",
                "Mali",
                "Malta",
                "Marshall Islands",
                "Mauritania",
                "Mauritius",
                "Mexico",
                "Micronesia",
                "Moldova",
                "Mongolia",
                "Morocco",
                "Monaco",
                "Mozambique",
                "Namibia",
                "Nauru",
                "Nepal",
                "Netherlands",
                "New Zealand",
                "Nicaragua",
                "Niger",
                "Nigeria",
                "Norway",
                "Oman",
                "Pakistan",
                "Panama",
                "Papua New Guinea",
                "Paraguay",
                "Peru",
                "Philippines",
                "Poland",
                "Portugal",
                "Qatar",
                "Romania",
                "Russia",
                "Rwanda",
                "Samoa",
                "San Marino",
                " Sao Tome",
                "Saudi Arabia",
                "Senegal",
                "Serbia and Montenegro",
                "Seychelles",
                "Sierra Leone",
                "Singapore",
                "Slovakia",
                "Slovenia",
                "Solomon Islands",
                "Somalia",
                "South Africa",
                "Spain",
                "Sri Lanka",
                "Sudan",
                "Suriname",
                "Swaziland",
                "Sweden",
                "Switzerland",
                "Syria",
                "Taiwan",
                "Tajikistan",
                "Tanzania",
                "Thailand",
                "Togo",
                "Tonga",
                "Trinidad and Tobago",
                "Tunisia",
                "Turkey",
                "Turkmenistan",
                "Uganda",
                "Ukraine",
                "United Arab Emirates",
                "United Kingdom",
                "United States",
                "Uruguay",
                "Uzbekistan",
                "Vanuatu",
                "Venezuela",
                "Vietnam",
                "Yemen",
                "Zambia",
                "Zimbabwe"
            );

            for (var i = 0; i < countries.length; i++) {
                var option = document.createElement("option");
                var txt = document.createTextNode(countries[i]);
                option.appendChild(txt);
                option.setAttribute("value", countries[i]);
                select.insertBefore(option, select.lastChild);
            }

            document.addEventListener(
                "DOMContentLoaded",
                function () {
                    document.querySelector('select[name="selectCountry"]').onchange =
                        alertCountry;
                },
                false
            );

            function alertCountry(event) {
                if (!event.target.value) alert("Please select a country");
                else alert("You chose " + event.target.value + ". Yay, grab a beer!");
            }
        </script>
        <%- include('../partials/contactUs'); %>
            <script>
                const navigateToProfessionalScreen = () => {
                    let profileImage = document.getElementById("imageUpload").value.trim();
                    let firstName = document.getElementById("firstname").value.trim();
                    let middleName = document.getElementById("middlename").value.trim();
                    let lastName = document.getElementById("lastname").value.trim();
                    let nationality = document.getElementById("nation").value.trim();
                    let country = document.getElementById("selectCountry").value.trim();

                    if (!profileImage || !firstName || !middleName || !lastName || !nationality || !country) {
                        alert("Please fill in all fields");
                        return false;
                    }
                    const urlParams = new URLSearchParams(window.location.search);
                    const email = urlParams.get("email");
                    console.log("email",email);
                    let data = {
                        profileImage: profileImage,
                        firstName: firstName,
                        middleName: middleName,
                        lastName: lastName,
                        nationality: nationality,
                        country: country,
                        email: email

                    };

                    let queryString = Object.keys(data)
                        .map(
                            (key) =>
                                `${encodeURIComponent(key)}=${encodeURIComponent(data[key])}`
                        )
                        .join("&");

                    let url = `/professional?${queryString}`;
                    window.location.href = url;
                    return false;
                };
            </script>
</body>

</html>